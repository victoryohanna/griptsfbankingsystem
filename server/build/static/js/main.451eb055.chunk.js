(this.webpackJsonpmernstack=this.webpackJsonpmernstack||[]).push([[0],{39:function(e,a,t){e.exports=t(69)},44:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),s=t(1),m=t(2),o=(t(44),t(20));var i=function(){return l.a.createElement("div",{className:"nav-body"},l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar navbar-expand-lg"},l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"},l.a.createElement(o.a,{className:"nav-icon"}))),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav my-4"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(s.b,{to:"/",className:"nav-link"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/customers",className:"nav-link"},"Customers")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/transfer",className:"nav-link"},"Fund Transfer")))))))},u=t(5),d=t.n(u),E=t(14),N=t(8),p=t(9),b=t(16),f=t(11),h=t(10),v=t(13),g=t.n(v),y=t(19),k=t.n(y),x=t(21),C=t.n(x),w=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).getCustomers=Object(E.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://tsfgripbank.herokuapp.com/customers").then((function(e){var a=e.data.response,t=a.slice(n.state.offset,n.state.offset+n.state.perPage);n.setState({pageCount:Math.ceil(a.length/n.state.perPage),customers:t,isLoading:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.handlePageClick=function(e){var a=e.selected,t=a*n.state.perPage;n.setState({currentPage:a,offset:t},(function(){n.getCustomers()}))},n.state={customers:[],isLoading:!0,offset:0,perPage:5,currentPage:0},n.handlePageClick=n.handlePageClick.bind(Object(b.a)(n)),n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"render",value:function(){var e=this.state.customers,a=this.props.match;return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("h3",null,"Customers")),this.state.isLoading?l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(k.a,{type:"spinningBubbles",color:"grey",height:"8%",width:"8%"})):l.a.createElement("div",{className:"table-responsive-sm"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Firt Name"),l.a.createElement("th",null,"Middle Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Phone Number"),l.a.createElement("th",null,"Customer Details"))),l.a.createElement("tbody",null,e.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"table-row"},e.firstName),l.a.createElement("td",{className:"table-row"},e.middleName),l.a.createElement("td",{className:"table-row"},e.lastName),l.a.createElement("td",{className:"table-row"},e.gender),l.a.createElement("td",{className:"table-row"},e.email),l.a.createElement("td",{className:"table-row"},e.phoneNumber),l.a.createElement("td",{className:"table-row"},l.a.createElement("button",{className:"btn-view"},l.a.createElement(s.b,{to:"".concat(a.url,"/").concat(e.userId),className:"link"},"View Details"))))}))))))),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(C.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))}}]),t}(n.Component);function j(e){var a=e.children,t=e.title,n=e.subtitle;return l.a.createElement("div",{className:"banner"},l.a.createElement("h4",null," ",t," "),l.a.createElement("div",null),l.a.createElement("p",null," ",n),a)}var O=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){return Object(N.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:" d-flex justify-content-center pt-4 my-md-5 pt-md-5 footer "},l.a.createElement("div",{className:"row row-footer "},l.a.createElement("div",{className:"col-12 col-md"},l.a.createElement("small",{className:"-block mb-3 text-muted"},"\xa9 2020")),l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"About"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"Team")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"Privacy")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"Terms")))),l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"Features"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"FAQ")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"Testimonials")),l.a.createElement("li",null,l.a.createElement(s.b,{to:"/",className:"text-muted"},"Careers")))),l.a.createElement("div",{className:"col-6 col-md "},l.a.createElement("h5",null,"Follow Us"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement(s.b,{to:"https://www.facebook.com/signup",target:"_blank",className:"footer-img"},l.a.createElement(o.b,null))),l.a.createElement("li",null,l.a.createElement(s.b,{to:"https://twitter.com/i/flow/signup",target:"_blank",className:"footer-img"},l.a.createElement(o.d,null))),l.a.createElement("li",null,l.a.createElement(s.b,{to:"https://www.linkedin.com/signup",target:"_blank",className:"footer-img"},l.a.createElement(o.c,null)))))))}}]),t}(n.Component),P=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){return Object(N.a)(this,t),a.apply(this,arguments)}return Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"main"},l.a.createElement(j,{title:"GRIP BANKING SYSTEM",subtitle:"Thank you for banking with us"},l.a.createElement(s.b,{to:"/transfer",className:"btn-main"},"Transfer Fund"))),l.a.createElement("hr",null),l.a.createElement("div",{className:"section-footer"},l.a.createElement(O,null)))}}]),t}(n.Component),S=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).getCustomers=Object(E.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://tsfgripbank.herokuapp.com/customers").then((function(e){var a=e.data.response,t=a.slice(n.state.offset,n.state.offset+n.state.perPage);n.setState({pageCount:Math.ceil(a.length/n.state.perPage),customers:t,isLoading:!1})}));case 2:case"end":return e.stop()}}),e)}))),n.handlePageClick=function(e){var a=e.selected,t=a*n.state.perPage;n.setState({currentPage:a,offset:t},(function(){n.getCustomers()}))},n.state={customers:[],isLoading:!0,offset:0,perPage:5,currentPage:0},n.handlePageClick=n.handlePageClick.bind(Object(b.a)(n)),n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getCustomers()}},{key:"render",value:function(){var e=this.state.customers,a=this.props.match;return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("h3",null,"Fund Transfer")," "),this.state.isLoading?l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(k.a,{type:"spinningBubbles",color:"grey",height:"8%",width:"8%"})):l.a.createElement("div",{className:"table-responsive-sm"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Firt Name"),l.a.createElement("th",null,"Middle Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Account N0"),l.a.createElement("th",null,"Phone Number"),l.a.createElement("th",null,"Send Money"))),l.a.createElement("tbody",null,e.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"table-row"},e.firstName),l.a.createElement("td",{className:"table-row"},e.middleName),l.a.createElement("td",{className:"table-row"},e.lastName),l.a.createElement("td",{className:"table-row"},e.gender),l.a.createElement("td",{className:"table-row"},e.accountNumber),l.a.createElement("td",{className:"table-row"},e.phoneNumber),l.a.createElement("td",{className:"table-row"},l.a.createElement("button",{className:"btn-view"},l.a.createElement(s.b,{to:"".concat(a.url,"/").concat(e.userId),className:"link"},"Select"))))}))))))),l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(C.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))}}]),t}(n.Component),D=t(38),F=t(22),L=(t(67),RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)),A=function(e){var a=!0;return Object.values(e).forEach((function(e){return e.length>0&&(a=!1)})),a},B=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target,t=a.name,l=a.value,r=n.state.errors;switch(t){case"depositorName":r.depositorName=l.length<1?"Name should not be empty":"";break;case"email":r.email=L.test(l)?"":"Please enter valid email";break;case"amount":r.amount=l.length<1?"Please enter amount":"";break;case"depositorNumber":r.depositorNumber=l.length<1?"Please Enter Valid Phone Number":""}n.setState(Object(D.a)({},e.target.name,e.target.value))},n.getCustomerById=Object(E.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.match.params.id,e.next=3,g.a.get("https://tsfgripbank.herokuapp.com/customers").then((function(e){n.setState({customers:e.data.response})}));case 3:return t=n.state.customers,t.filter((function(e){return e.userId===a})).forEach((function(e){n.setState({customer:e})})),e.abrupt("return",n.state.customer);case 7:case"end":return e.stop()}}),e)}))),n.notify=function(){return F.b.success("Successfuly Transferred")},n.transferFund=function(){var e=Object(E.a)(d.a.mark((function e(a){var t,l,r,c,s,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t=n.state.errors,l=n.state.customer,r=Number(l.currentBalance),c=n.state.amount,s=Number(r)+Number(c),""===n.state.depositorName&&(t.depositorName="First Name required"),""===n.state.depositorNumber&&(t.depositorNumber="Depositor's Name required"),""===n.state.amount&&(t.amount="Please Enter Amount"),""===n.state.email&&(t.email="Email Address required"),!A(n.state.errors)){e.next=16;break}return m={transactionId:Math.floor(1e5*Math.random())+1,customer:{firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,gender:l.gender,accountNumber:l.accountNumber,initialBalance:l.currentBalance,amountReceived:c,newBalance:s},depositor:{name:n.state.depositorName,phoneNumber:n.state.depositorNumber,email:n.state.email},date:new Date},e.next=14,g.a.post("https://tsfgripbank.herokuapp.com/transfer",m).then((function(e){if(e){var a={userId:l.userId,firstName:l.firstName,middleName:l.middleName,lastName:l.lastName,gender:l.gender,email:l.email,phoneNumber:l.phoneNumber,address:l.address,accountNumber:l.accountNumber,currentBalance:s};g.a.put("/customer-update",a).then((function(e){e&&n.setState({depositorName:"",depositorNumber:"",amount:"",email:"",formSubmited:!0})}))}}));case 14:e.next=17;break;case 16:n.setState({formInvalid:"Please fill correct values in form fields"});case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={customers:[],customer:{},depositorName:"",depositorNumber:"",amount:"",email:"",errors:{depositorName:"",depositorNumber:"",amount:"",email:""},formInvalid:"",formSubmited:!1},n.transferFund=n.transferFund.bind(Object(b.a)(n)),n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getCustomerById()}},{key:"render",value:function(){var e=this.state.customer,a=this.state.errors;return l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"card card-transfer mx-auto"},l.a.createElement("div",{className:"card-body d-flex justify-content-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("h5",null,"Account Owner")),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"First Name"),l.a.createElement("dd",null,e.firstName))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Middle Name"),l.a.createElement("dd",null,e.middleName))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"last Name"),l.a.createElement("dd",null,e.lastName))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Gender"),l.a.createElement("dd",null,e.gender))),l.a.createElement("div",{className:"col-md-5"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Email"),l.a.createElement("dd",null,e.email))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Account Number"),l.a.createElement("dd",null,e.accountNumber))),l.a.createElement("div",{className:"card-body d-flex justify-content-center"},l.a.createElement("h6",null,"Depositor's Details")),l.a.createElement("div",null,l.a.createElement("form",{type:"form",className:"form",onSubmit:this.transferFund},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("span",{className:"error"},this.state.formInvalid)),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mx-auto"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Full Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"depositorName",value:this.state.depositorName,onChange:this.handleChange,noValidate:!0}),a.depositorName.length>0&&l.a.createElement("span",{className:"error"},a.depositorName))),l.a.createElement("div",{className:"col-md-6 mx-auto"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Phone Number"),l.a.createElement("input",{type:"text",className:"form-control",name:"depositorNumber",value:this.state.depositorNumber,onChange:this.handleChange,noValidate:!0}),a.depositorNumber.length>0&&l.a.createElement("span",{className:"error"},a.depositorNumber))),l.a.createElement("div",{className:"col-md-6 mx-auto"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Amount"),l.a.createElement("input",{type:"text",className:"form-control",name:"amount",value:this.state.amount,onChange:this.handleChange,noValidate:!0}),a.amount.length>0&&l.a.createElement("span",{className:"error"},a.amount))),l.a.createElement("div",{className:"col-md-6 mx-auto"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.handleChange,noValidate:!0}),a.email.length>0&&l.a.createElement("span",{className:"error"},a.email)))),l.a.createElement("div",{className:"d-flex justify-content-end"},l.a.createElement("button",{type:"submit",className:"btn-submit",onClick:function(){return F.b.success("Successfuly Transferred")}},"Transfer")))),this.state.formSubmited||this.state.formInvalid?"":l.a.createElement("div",null,l.a.createElement(F.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))))))}}]),t}(n.Component),I=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).getCustomerDetails=Object(E.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.match.params.id,e.next=3,g.a.get("https://tsfgripbank.herokuapp.com/customers").then((function(e){n.setState({customers:e.data.response,isLoading:!1})}));case 3:return t=n.state.customers,t.filter((function(e){return e.userId===a})).forEach((function(e){n.setState({customer:e})})),e.abrupt("return",n.state.customer);case 7:case"end":return e.stop()}}),e)}))),n.state={customers:[],customer:{},isLoading:!0},n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getCustomerDetails()}},{key:"render",value:function(){var e=this.state.customer;return l.a.createElement("div",{className:"container mt-3"},this.state.isLoading?l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement(k.a,{type:"spinningBubbles",color:"grey",height:"8%",width:"8%"})):l.a.createElement("div",{className:"card card-transfer mx-auto"},l.a.createElement("div",{className:"card-body d-flex justify-content-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("h5",null,"Customer Details")),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"First Name"),l.a.createElement("dd",null,e.firstName))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Middle Name"),l.a.createElement("dd",null,e.middleName))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"last Name"),l.a.createElement("dd",null,e.lastName))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Gender"),l.a.createElement("dd",null,e.gender))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Phone Number"),l.a.createElement("dd",null,e.phoneNumber))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Email"),l.a.createElement("dd",null,e.email))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Address"),l.a.createElement("dd",null,e.address))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Account Number"),l.a.createElement("dd",null,e.accountNumber))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("dl",null,l.a.createElement("dt",null,"Account Balance"),l.a.createElement("dd",null,e.currentBalance))),l.a.createElement("div",{className:"col-md-12"}),l.a.createElement(s.b,{to:"/customers",className:"btn-back"},"Print")))))}}]),t}(n.Component);var M=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(i,null),l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:P}),l.a.createElement(m.a,{exact:!0,path:"/customers",component:w}),l.a.createElement(m.a,{exact:!0,path:"/transfer",component:S}),l.a.createElement(m.a,{exact:!0,path:"/transfer/:id",component:B}),l.a.createElement(m.a,{exact:!0,path:"/customers/:id",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(68);c.a.render(l.a.createElement(s.a,null,l.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.451eb055.chunk.js.map